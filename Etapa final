/**************************

 * 

 Etapa 1: Estrutura Sequencial

Conteúdo: Variáveis, entrada e saída de dados.

Objetivo: Cadastro de um contato com nome, telefone e e-mail.

Entrega: Programa que exibe os dados de um contato.

 

***************************/

#include <stdio.h>



int main()

{  

  char nome[50];

  char numero[11];

  char email[50];

   

//entrada de dados

//entrada de nome

  printf("Insira seu nome: ");

  scanf(" %s", nome);

   

//entrada de número

  printf("Insira seu número (10 ou 11 dígitos): ");

  scanf(" %s", numero);

   

//entrada de e-mail

  printf("Insira seu e-mail: ");

  scanf(" %s", email);

   

  //saída de dados

printf("\nDados inseridos\n");

    printf("Nome: %s\n", nome);

    printf("Número: %s\n", numero);

    printf("E-mail: %s\n", email);

     

return 0;

}

/**************************

 * 

Etapa 2: Estruturas de Decisão

Conteúdo: if-else, switch

Objetivo: Verificar duplicidade ou formato dos dados.

Entrega: Programa que valida os dados do contato.



Fontes de pesquisa: W3Schools, Youtube: Jonas Henrique



***************************/

#include <stdio.h>

#include <string.h> //usada para validar os dados inseridos pelo usuário com strlen e strchr



int main()

{  

  char nome[50];

  char numero[11];

  char email[50];

   

  int nome_verificado,

    email_verificado,

    numero_verificado;

     

     

//entrada de nome

  printf("Insira seu nome: ");

  scanf(" %s", nome);

   

//entrada de número

  printf("Insira seu número (10 ou 11 dígitos): ");

  scanf(" %s", numero);

   

//entrada de e-mail

  printf("Insira seu e-mail: ");

  scanf(" %s", email);



//verificação de dados

//verificação de nome

  if(strlen(nome) > 0 && strlen(nome) < 50) {

    printf("\nNome válido.\n");

    nome_verificado = 1;

  } else {

    printf("Nome inválido\n");

    nome_verificado = 0;

  }



//verificação de número, strlen conta caracteres da string para validar tamanho

  if(strlen(numero) >= 10 && strlen(numero) <= 11) {

    printf("Número válido\n");

    numero_verificado = 1;

  } else {

    printf("Número inválido\n");

    numero_verificado = 0;

  }

   

  //verificção de e-mail, strchr busca um caractere dentro da string para validar presença de @ e .

   if(strchr(email, '@') && strchr(email, '.')) {

    printf("E-mail válido\n");

    email_verificado = 1;

  } else {

    printf("E-mail inválido\n");

    email_verificado = 0;

  }

   

//Saída de dados inseridos caso os dados forem validados

  if(nome_verificado && numero_verificado && email_verificado) {

    printf("\nDados inseridos\n");

    printf("Nome: %s\n", nome);

    printf("Número: %s\n", numero);

    printf("E-mail: %s\n", email);

  } else {//caso inválido

    printf("\nCadastro não realizado, pois há dados inválidos.\n");

  }



  return 0;

}

/* 

Etapa 3

Fontes de pesquisa: Youtube - Programe seu futuro

*/



#include <stdio.h>

#include <string.h>



int main() {

  int i;

  int quantidade_de_contatos;

  int encontrado = 0;



  printf("Quantos contatos deseja cadastrar?");

  scanf("%d", &quantidade_de_contatos);



  char nome[quantidade_de_contatos][50];

  char telefone[quantidade_de_contatos][12];

  char email[quantidade_de_contatos][50];

  char buscar[50];



  int nome_verificado = 0;

  int numero_verificado = 0;

  int email_verificado = 0;



  for (i = 0; i < quantidade_de_contatos; i++) {

    printf("\nContato %d\n", i + 1);

     

    //entrada e verificação de nome 

    //strlen conta caracteres da string para validar tamanho

    printf("Nome: ");

    scanf(" %s", nome[i]);

    if (strlen(nome[i]) > 0 && strlen(nome[i]) < 50) {

      printf("Nome válido.\n");

      nome_verificado = 1;

    } else {

      printf("Nome inválido.\n");

      nome_verificado = 0;}

     

    //entrada e verificação de número

    printf("Insira seu número com DDD: ");

    scanf(" %s", telefone[i]);

    if (strlen(telefone[i]) >= 10 && strlen(telefone[i]) <= 11) {

      printf("Número válido.\n");

      numero_verificado = 1;

    } else {

      printf("Número inválido.\n");

      numero_verificado = 0;

    }

       

    //entrada e verificação de e-mail

    //strchr busca um caractere dentro da string para validar presença de @ e .

    printf("E-mail: ");

    scanf(" %s", email[i]);

    if (strchr(email[i], '@') && strchr(email[i], '.')) {

      printf("E-mail válido.\n");

      email_verificado = 1;

    } else {

      printf("E-mail inválido.\n");

      email_verificado = 0;}

  }



  // Exibir lista de contatos

  printf("\nLista de Contatos\n");

  for (i = 0; i <quantidade_de_contatos; i++) {

    printf("\nContato %d\n", i + 1);

    printf("Nome: %s\n", nome[i]);

    printf("Telefone: %s\n", telefone[i]);

    printf("E-mail: %s\n", email[i]);

  }



  // Buscar contato

  printf("\nDigite o nome que deseja buscar: ");

  scanf(" %s", buscar);



  for (i = 0; i < quantidade_de_contatos; i++) {

    //strcmp foi adicionado para comparar caracteres entre as duas strings para fazer buscas

    if (strcmp(nome[i], buscar) == 0) {

      printf("\nContato encontrado:\n");

      printf("Nome: %s\n", nome[i]);

      printf("Telefone: %s\n", telefone[i]);

      printf("E-mail: %s\n", email[i]);

      encontrado = 1;

      break; }

  }

  if (!encontrado) {

    printf("\nContato não encontrado.\n");

  }



  return 0;

}



Etapa 4



#include <stdio.h>

#include <string.h>



 struct Contato {

  char nome[50];

  char telefone[12];

  char email[50];

};





//void foi usado em exibirContato, pois não retorna nenhum valor. O obetivo é imprimir as informações do contato.

//acessa. acessa o campo da struct armazenada

void exibirContato(struct Contato acessa, int indice) {

  printf("\nContato %d\n", indice + 1);

  printf("Nome: %s\n", acessa.nome);

  printf("Telefone: %s\n", acessa.telefone);

  printf("E-mail: %s\n", acessa.email);

}



int main() {

  int i;

  int quantidade_de_contatos;

  int encontrado = 0;



  printf("Quantos contatos deseja cadastrar?");

  scanf("%d", &quantidade_de_contatos);



  struct Contato contatos[quantidade_de_contatos];

  char buscar[50];



  for (i = 0; i < quantidade_de_contatos; i++) {

    int nome_verificado = 0;

    int numero_verificado = 0;

    int email_verificado = 0;



    printf("\nContato %d\n", i + 1);

     

    //entrada e verificação de nome 

    //strlen conta caracteres da string para validar tamanho

    printf("Nome: ");

    scanf(" %s", contatos[i].nome);

    if (strlen(contatos[i].nome) > 0 && strlen(contatos[i].nome) < 50)

      nome_verificado = 1;



    //entrada e verificação de número

    printf("Insira seu número com DDD: ");

    scanf(" %s", contatos[i].telefone);

    if (strlen(contatos[i].telefone) >= 10 && strlen(contatos[i].telefone) <= 11)

      numero_verificado = 1;



    //entrada e verificação de e-mail

    //strchr busca um caractere dentro da string para validar presença de @ e .

    printf("E-mail: ");

    scanf(" %s", contatos[i].email);

    if (strchr(contatos[i].email, '@') && strchr(contatos[i].email, '.'))

      email_verificado = 1;



    // Validação do dados

    printf("\nValidação do Contato %d\n", i + 1);

    if (nome_verificado == 1) {

      printf("Nome: válido\n");

        } else {

        printf("Nome: inválido\n");

      }

         

    if (numero_verificado == 1) {

      printf("Telefone: válido\n");

        } else {

        printf("Telefone: inválido\n");

      }

     

    if (email_verificado == 1) {

      printf("E-mail: válido\n");

        } else {

        printf("E-mail: inválido\n");

      }

  }



  // Exibir lista de contatos

  printf("\nLista de Contatos\n");

  for (i = 0; i < quantidade_de_contatos; i++) {

    exibirContato(contatos[i], i);

  }



  // Buscar contato

  printf("\nDigite o nome que deseja buscar: ");

  scanf(" %s", buscar);



  for (i = 0; i < quantidade_de_contatos; i++) {

    //strcmp foi adicionado para comparar caracteres entre as duas strings para fazer buscas

    if (strcmp(contatos[i].nome, buscar) == 0) {

      printf("\nContato encontrado:\n");

      exibirContato(contatos[i], i);

      encontrado = 1;

      break;

    }

  }



  if (!encontrado) {

    printf("\nContato não encontrado.\n");

  }



  return 0;

}

Etapa 5



#include <stdio.h>

#include <string.h>



struct Contato {

  char nome[50];

  char telefone[12];

  char email[50];

};



// Exibe um contato

void exibirContato(struct Contato c, int indice) {

  printf("\nContato %d\n", indice + 1);

  printf("Nome: %s\n", c.nome);

  printf("Telefone: %s\n", c.telefone);

  printf("E-mail: %s\n", c.email);

}



// Adiciona um contato

void adicionarContato(struct Contato contatos[], int *quantidade) {

  int nome_verificado = 0;

  int numero_verificado = 0;

  int email_verificado = 0;



  printf("\nCadastro do Contato %d\n", *quantidade + 1);



  // Nome

  printf("Nome: ");

  scanf(" %s", contatos[*quantidade].nome);

  if (strlen(contatos[*quantidade].nome) > 0 && strlen(contatos[*quantidade].nome) < 50)

    nome_verificado = 1;



  // Telefone

  printf("Insira seu número com DDD: ");

  scanf(" %s", contatos[*quantidade].telefone);

  if (strlen(contatos[*quantidade].telefone) >= 10 && strlen(contatos[*quantidade].telefone) <= 11)

    numero_verificado = 1;



  // E-mail

  printf("E-mail: ");

  scanf(" %s", contatos[*quantidade].email);

  if (strchr(contatos[*quantidade].email, '@') && strchr(contatos[*quantidade].email, '.'))

    email_verificado = 1;



   // Mostra as validações

  printf("\nValidação do Contato %d\n", *quantidade + 1);

  printf("Nome: %s\n", nome_verificado ? "válido" : "inválido");

  printf("Telefone: %s\n", numero_verificado ? "válido" : "inválido");

  printf("E-mail: %s\n", email_verificado ? "válido" : "inválido");



   // Incrementa a quantidade total de contatos cadastrados

  (*quantidade)++;

}



// Lista todos os contatos

void listarContatos(struct Contato contatos[], int quantidade) {

  if (quantidade == 0) {

    printf("\nNenhum contato registrado.\n");

    return;

  }



  printf("\nLista de Contatos\n");

  for (int i = 0; i < quantidade; i++) {

    exibirContato(contatos[i], i);

     

  }

}



// Busca contato pelo nome

void buscarContato(struct Contato contatos[], int quantidade) {

  char buscar[50];

  int encontrado = 0;



  printf("\nDigite o nome que deseja buscar: ");

  scanf(" %s", buscar);

   

   //Faz a busca por um nome igual com strcmp

  for (int i = 0; i < quantidade; i++) {

    if (strcmp(contatos[i].nome, buscar) == 0) {

      printf("\nContato encontrado:\n");

      exibirContato(contatos[i], i);

      encontrado = 1;

      break;

    }

  }

  if (!encontrado) {

    printf("\nContato não encontrado.\n");

  //Exibe erro caso não encontre

  }

}



// Remove contato

void removerContato(struct Contato contatos[], int *quantidade) {

  char nome[50];

  int encontrado = -1;



  // Se não houver contatos para remover exibe um erro

  if (*quantidade == 0) {

    printf("\nNenhum contato para remover.\n");

    return;

  }

   // Solicita ao usuário o índice do contato a ser removido

  printf("\nDigite o nome do contato que deseja remover: ");

  scanf(" %s", nome);



  for (int i = 0; i < *quantidade; i++) {

    if (strcmp(contatos[i].nome, nome) == 0) {

      encontrado = i;

      break;

    }

  }

  // Se não encontrado

  if (encontrado == -1) {

    printf("\nContato não encontrado.\n");

    return;

  }



  //

  //for (int i = encontrado; i < *quantidade - 1; i++) {

    // contatos[i] = contatos[i + 1];}

   

  // Diminui a quantidade total de contaos

  (*quantidade)--;

  printf("\nContato removido com sucesso!\n");}



int main() {

  int opcao;

  int quantidade = 0;

  int capacidade;



  printf("Quantos contatos quer cadastrar?: ");

  scanf("%d", &capacidade);



  struct Contato contatos[capacidade];



  // o Loop se repetirá infinitamente até o usuário escolher sair,

  //pois começa sem inicialização, sem condição e sem incremento

  //Isso faz com que o loop nunca pare por si só

  for(;;) {

    printf("\n FUNÇÕES \n");

    printf("1 - Adicionar contato\n");

    printf("2 - Listar contatos\n");

    printf("3 - Buscar contato\n");

    printf("4 - Remover contato\n");

    printf("5 - Sair\n");

    printf("Escolha uma opção: ");

    scanf("%d", &opcao);

   

    // Menu principal

    switch (opcao) {

      case 1:

        if (quantidade < capacidade)

          adicionarContato(contatos, &quantidade);

        else

          printf("\nLimite de contatos atingido!\n");

        break;

      case 2:

        listarContatos(contatos, quantidade);

        break;

      case 3:

        buscarContato(contatos, quantidade);

        break;

      case 4:

        removerContato(contatos, &quantidade);

        break;

      case 5:

        printf("Saindo...\n");

        return 0;

      default:

        printf("Opção inválida!\n");

    }

  }



  return 0;

}

